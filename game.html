<!-- Add to head -->
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>

<script>
// Firebase config (replace with your actual config)
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT.firebaseio.com",
  projectId: "YOUR_PROJECT",
  storageBucket: "YOUR_PROJECT.appspot.com",
  messagingSenderId: "YOUR_SENDER_ID",
  appId: "YOUR_APP_ID"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);

// Modified leaderboard functions
async function addToLeaderboard(wallet, distance) {
  try {
    await firebase.database().ref('leaderboard').push({
      wallet: wallet,
      distance: distance,
      timestamp: Date.now()
    });
    loadLeaderboard(); // Refresh the display
  } catch (err) {
    console.error("Failed to save to leaderboard:", err);
  }
}

async function loadLeaderboard() {
  try {
    const snapshot = await firebase.database().ref('leaderboard').once('value');
    const data = snapshot.val();
    leaderboard = data ? Object.values(data) : [];
    updateLeaderboard();
  } catch (err) {
    console.error("Failed to load leaderboard:", err);
  }
}
</script>
